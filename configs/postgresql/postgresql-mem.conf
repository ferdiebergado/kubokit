# --------------------------------------------------------------------------------------------------
# CONNECTION SETTINGS
# --------------------------------------------------------------------------------------------------
listen_addresses = '*'          # Must be '*' to allow external connections

# --------------------------------------------------------------------------------------------------
# MEMORY SETTINGS (Adjust these based on your container's total memory)
# --------------------------------------------------------------------------------------------------
shared_buffers = 512MB          # Typically 25% of container RAM
effective_cache_size = 1536MB   # Typically 75% of container RAM

# --------------------------------------------------------------------------------------------------
# WAL & CHECKPOINT TUNING (CRUCIAL FOR SPEED IN TMPFS - DANGER: NO DURABILITY)
# --------------------------------------------------------------------------------------------------
# **WARNING:** Setting these to 'off' or high values trades data durability for raw speed.
fsync = off                     # Disables writing data to disk (since data is in RAM, this is fine)
full_page_writes = off          # Reduces WAL traffic by skipping full page writes
synchronous_commit = off        # Transactions commit faster (don't wait for WAL flush)

max_wal_size = 4GB              # Increase WAL size to reduce checkpoint frequency
checkpoint_timeout = 30min      # Increase checkpoint interval

# --------------------------------------------------------------------------------------------------
# QUERY OPTIMIZER TUNING
# --------------------------------------------------------------------------------------------------
random_page_cost = 1.1          # Assume very fast I/O (RAM) for better query planning
